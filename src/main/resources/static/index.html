<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Detection System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-robot"></i> AI Detection System</h1>
            <p>Upload ONNX models and detect objects in images</p>
        </header>        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'upload-tab')">
                <i class="fas fa-upload"></i> Upload Model
            </button>
            <button class="tab-button" onclick="openTab(event, 'models-tab')">
                <i class="fas fa-list"></i> Models
            </button>
            <button class="tab-button" onclick="openTab(event, 'config-tab')">
                <i class="fas fa-cog"></i> Configure
            </button>
            <button class="tab-button" onclick="openTab(event, 'detect-tab')">
                <i class="fas fa-search"></i> Detection
            </button>
            <button class="tab-button" onclick="openTab(event, 'ocr-tab')">
                <i class="fas fa-font"></i> OCR
            </button>
        </div>

        <!-- Upload Model Tab -->
        <div id="upload-tab" class="tab-content active">
            <div class="card">
                <h2><i class="fas fa-upload"></i> Upload ONNX Model</h2>
                <form id="upload-form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="model-name">Model Name:</label>
                        <input type="text" id="model-name" name="name" required placeholder="Enter model name">
                    </div>
                    <div class="form-group">
                        <label for="model-description">Description:</label>
                        <textarea id="model-description" name="description" placeholder="Enter model description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="model-file">ONNX File:</label>
                        <div class="file-input-wrapper">
                            <input type="file" id="model-file" name="file" accept=".onnx" required>
                            <label for="model-file" class="file-input-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                Choose ONNX File
                            </label>
                        </div>
                        <div id="file-info" class="file-info"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-upload"></i> Upload Model
                    </button>
                </form>
                <div id="upload-result" class="result"></div>
            </div>
        </div>

        <!-- Models List Tab -->
        <div id="models-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-list"></i> Available Models</h2>
                <button onclick="loadModels()" class="btn btn-secondary">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
                <div id="models-list" class="models-list">
                    <div class="loading">Loading models...</div>
                </div>
            </div>
        </div>

        <!-- Configure Tab -->
        <div id="config-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-cog"></i> Configure Class Names</h2>
                <div class="form-group">
                    <label for="config-model-select">Select Model:</label>
                    <select id="config-model-select" onchange="loadCurrentClassNames()" required>
                        <option value="">Choose a model...</option>
                    </select>
                    <button type="button" onclick="loadModelsForConfig()" class="btn btn-small">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                
                <div id="class-names-config" style="display: none;">
                    <div class="form-group">
                        <label>Current Class Names:</label>
                        <div id="current-class-names" class="class-names-display"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-class-names">New Class Names (one per line):</label>
                        <textarea id="new-class-names" rows="10" placeholder="Enter class names, one per line:&#10;portrait&#10;id_number&#10;full_name&#10;date_of_birth&#10;address&#10;signature"></textarea>
                    </div>
                    
                    <button type="button" onclick="updateClassNames()" class="btn btn-primary">
                        <i class="fas fa-save"></i> Update Class Names
                    </button>
                </div>
                
                <div id="config-result" class="result"></div>
            </div>
        </div>

        <!-- Detection Tab -->
        <div id="detect-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-search"></i> Object Detection</h2>
                <form id="detection-form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="model-select">Select Model:</label>
                        <select id="model-select" name="modelName" required>
                            <option value="">Choose a model...</option>
                        </select>
                        <button type="button" onclick="loadModelsForSelect()" class="btn btn-small">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="image-file">Image File:</label>
                        <div class="file-input-wrapper">
                            <input type="file" id="image-file" name="image" accept="image/*" required>
                            <label for="image-file" class="file-input-label">
                                <i class="fas fa-image"></i>
                                Choose Image
                            </label>
                        </div>
                        <div id="image-preview" class="image-preview"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-search"></i> Detect Objects
                    </button>
                </form>                <div id="detection-result" class="result"></div>
            </div>
        </div>        <!-- OCR Tab -->
        <div id="ocr-tab" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-font"></i> OCR Detection</h2>
                <p>Detect objects using YOLO model and extract text from detected regions</p>
                
                <form id="ocr-form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="ocr-model-select">Select YOLO Detection Model:</label>
                        <select id="ocr-model-select" required>
                            <option value="">Select a YOLO model for object detection</option>
                        </select>
                        <button type="button" onclick="loadOcrModels()" class="btn btn-secondary btn-small">
                            <i class="fas fa-refresh"></i> Refresh
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="ocr-image-file">Select Image:</label>
                        <div class="file-input-wrapper">
                            <input type="file" id="ocr-image-file" name="image" accept="image/*" required>
                            <label for="ocr-image-file" class="file-input-label">
                                <i class="fas fa-image"></i>
                                Choose Image
                            </label>
                        </div>
                        <div id="ocr-image-preview" class="image-preview"></div>
                    </div>                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-font"></i> Detect Objects & Extract Text
                    </button>
                </form>
                <div id="ocr-result" class="result"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
